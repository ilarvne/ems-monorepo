# ==============================================================================
# EMS Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# General
# ------------------------------------------------------------------------------
NODE_ENV=development                    # development | test | production

# ------------------------------------------------------------------------------
# Backend Server
# ------------------------------------------------------------------------------
PORT=3000                               # Backend server port
HOST=0.0.0.0                            # Backend server host
API_PREFIX=api                          # API route prefix
LOG_LEVEL=debug                         # debug | info | warn | error
CORS_ORIGINS=http://localhost:5173,http://localhost:6868

# ------------------------------------------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------------------------------------------
DATABASE_URL=postgres://postgres:postgres@localhost:5432/eventdb?sslmode=disable

# ------------------------------------------------------------------------------
# Cache (DragonflyDB / Redis-compatible)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=secret
DRAGONFLY_PASSWORD=secret               # Same as REDIS_PASSWORD for Docker

# ------------------------------------------------------------------------------
# Ory Kratos (Identity Management)
# ------------------------------------------------------------------------------
KRATOS_PUBLIC_URL=http://localhost:4433
KRATOS_ADMIN_URL=http://localhost:4434

# Secrets (generate with: openssl rand -base64 32)
KRATOS_SECRET_COOKIE=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
KRATOS_SECRET_CIPHER=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32

# ------------------------------------------------------------------------------
# Ory Hydra (OAuth2 / OIDC)
# ------------------------------------------------------------------------------
HYDRA_PUBLIC_URL=http://localhost:4444
HYDRA_ADMIN_URL=http://localhost:4445

# Secrets (generate with: openssl rand -base64 32)
HYDRA_SECRET_SYSTEM=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
HYDRA_SECRET_COOKIE=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
HYDRA_OIDC_SALT=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32

# ------------------------------------------------------------------------------
# SpiceDB (Authorization / Zanzibar)
# ------------------------------------------------------------------------------
SPICEDB_ENDPOINT=localhost:50051
SPICEDB_PRESHARED_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
SPICEDB_INSECURE=true                   # Set to false in production

# ------------------------------------------------------------------------------
# Microsoft OIDC (Azure AD)
# ------------------------------------------------------------------------------
MICROSOFT_CLIENT_ID=your-azure-app-client-id
MICROSOFT_CLIENT_SECRET=your-azure-app-client-secret

# ------------------------------------------------------------------------------
# Frontend (Vite)
# ------------------------------------------------------------------------------
VITE_API_URL=http://localhost:3000
VITE_KRATOS_PUBLIC_URL=http://localhost:4433
VITE_HYDRA_PUBLIC_URL=http://localhost:4444
VITE_ENABLE_DEVTOOLS=true
